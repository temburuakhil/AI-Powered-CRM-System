# ğŸš€ SIP Voice Campaign - Quick Setup

## âœ… Pre-Configured (No Action Needed)
- **Gemini API Key**: AIzaSyD7vSRpYuUElu_2FcvQYhVPRnmXAAbPG_A âœ“
- **Retell API Key**: key_7ae2ac651390bd59ee2c6cea4c40 âœ“

## ğŸ“‹ 3-Step Setup

### Step 1: Connect Your SIP Trunk Phone ğŸ“
```
Phone Number:       +14157774444
Termination URI:    sip:username@yourdomain.com
SIP Username:       (optional)
SIP Password:       (optional)
Nickname:           My Business Phone

[Connect SIP Trunk]
```

### Step 2: Generate AI Agent Prompt ğŸ¤–
```
System automatically:
âœ“ Reads your knowledge base files
âœ“ Calls Gemini API
âœ“ Generates intelligent prompt

[Generate Agent Prompt with AI]
```

### Step 3: Deploy Agent ğŸš€
```
System automatically:
âœ“ Creates Retell agent
âœ“ Links to your phone
âœ“ Returns Agent ID

[Create & Deploy Agent]
```

### Step 4: Launch Campaign ğŸ“¢
```
âœ“ Upload contacts CSV
âœ“ Start calling

[Start Voice Campaign]
```

## ğŸ¯ What You Need

### Required
- Your phone number (E.164 format: +14157774444)
- SIP termination URI (your SIP endpoint)
- Contacts CSV file

### Optional
- SIP authentication credentials
- Phone nickname

## ğŸ“Š UI Dialog Reference

Based on your screenshot, here's what you'll see:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Voice Campaign for [Project Name]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  â„¹ï¸ AI-Powered Agent Creation                   â”‚
â”‚  This system uses Gemini AI (pre-configured)    â”‚
â”‚  to automatically generate voice agent prompts  â”‚
â”‚                                                  â”‚
â”‚  âœ“ Pre-configured: Gemini API Key and Retell   â”‚
â”‚    API Key are already set up. Just connect     â”‚
â”‚    your SIP trunk phone number to start!        â”‚
â”‚                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸŸ  Step 1: Connect Your Phone via SIP Trunk   â”‚
â”‚                                                  â”‚
â”‚  Phone Number *                                 â”‚
â”‚  [+14157774444                              ]   â”‚
â”‚  Your phone number in E.164 format              â”‚
â”‚                                                  â”‚
â”‚  Termination URI *                              â”‚
â”‚  [sip:username@yourdomain.com               ]   â”‚
â”‚  NOT Retell SIP server URI - your endpoint      â”‚
â”‚                                                  â”‚
â”‚  SIP Username (Optional)    SIP Password        â”‚
â”‚  [username            ]     [â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢      ]    â”‚
â”‚                                                  â”‚
â”‚  Nickname (Optional)                            â”‚
â”‚  [My Business Phone                         ]   â”‚
â”‚                                                  â”‚
â”‚  [     Connect SIP Trunk     ]                  â”‚
â”‚                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”µ Step 2: Create AI Voice Agent              â”‚
â”‚                                                  â”‚
â”‚  âœ“ Gemini API Key: Pre-configured               â”‚
â”‚                                                  â”‚
â”‚  [ Generate Agent Prompt with AI ]              â”‚
â”‚                                                  â”‚
â”‚  [Generated Prompt Preview Box]                 â”‚
â”‚                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸŸ£ Step 3: Deploy Agent to Retell             â”‚
â”‚                                                  â”‚
â”‚  âœ“ Retell API Key: Pre-configured               â”‚
â”‚                                                  â”‚
â”‚  [  Create & Deploy Agent  ]                    â”‚
â”‚                                                  â”‚
â”‚  âœ“ Agent ID: agent_abc123                       â”‚
â”‚  âœ“ Phone: +14157774444                          â”‚
â”‚                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸŸ¢ Step 4: Launch Campaign                    â”‚
â”‚                                                  â”‚
â”‚  Upload Contacts CSV                            â”‚
â”‚  [ğŸ“ Choose File] contacts.csv                  â”‚
â”‚                                                  â”‚
â”‚  [  Start Voice Campaign  ]                     â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ SIP Provider Quick Setup

### Twilio
```
Phone:     +14157774444
Term URI:  sip:+14157774444@yourcompany.pstn.twilio.com
Username:  (leave empty)
Password:  (leave empty)
```

### Vonage
```
Phone:     +14157774444
Term URI:  sip:14157774444@sip.nexmo.com
Username:  your_vonage_username
Password:  your_vonage_password
```

### Telnyx
```
Phone:     +14157774444
Term URI:  sip:+14157774444@sip.telnyx.com
Username:  your_telnyx_username
Password:  your_telnyx_password
```

## âš¡ Quick Commands

### Start Backend
```powershell
cd backend
npm start
```

### Start Frontend
```powershell
npm run dev
```

## ğŸ¯ Success Indicators

### SIP Trunk Connected
```
âœ“ SIP Trunk Connected
  (button turns green with checkmark)
```

### Prompt Generated
```
âœ“ Prompt Generated
  (preview box shows generated text)
```

### Agent Deployed
```
âœ“ Agent Created & Ready
  Agent ID: agent_abc123
  Phone: +14157774444
```

### Campaign Running
```
Progress: 5/100 calls
Status: In Progress
```

## ğŸ› Quick Troubleshooting

| Error | Solution |
|-------|----------|
| "Failed to configure SIP" | Check phone format (+14157774444) |
| "Agent creation failed" | Verify SIP trunk connected first |
| "Call failed" | Confirm agent deployed successfully |
| "No audio" | Test SIP termination URI separately |

## ğŸ“ Contact Format in CSV

```csv
name,phone,email
John Doe,+19876543210,john@example.com
Jane Smith,+18765432109,jane@example.com
Bob Wilson,+17654321098,bob@example.com
```

## ğŸ¤ Voice Agent Behavior

The AI agent will:
- âœ“ Greet the contact naturally
- âœ“ Use knowledge base context
- âœ“ Answer questions intelligently
- âœ“ Handle interruptions gracefully
- âœ“ End call professionally

## ğŸ’° Cost Estimate

Retell AI Pricing (approximate):
- Per minute: $0.05 - $0.15
- Average call: 3 minutes
- Cost per call: ~$0.15 - $0.45

Example: 1000 calls Ã— 3 min Ã— $0.10/min = $300

## ğŸ“š Learn More

- Full guide: `SIP_VOICE_INTEGRATION_GUIDE.md`
- Original setup: `VOICE_CAMPAIGN_QUICKSTART.md`
- Architecture: `VOICE_ARCHITECTURE.md`
- Retell docs: https://docs.retellai.com/

---

**Setup Time**: ~2 minutes  
**Status**: Production Ready âœ“
